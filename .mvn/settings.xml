<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 https://maven.apache.org/xsd/settings-1.0.0.xsd">
  <!--
    Управление прокси полностью передано во внешний конфиг через переменные
    окружения Maven/Java:
      * MAVEN_HTTP_PROXY_ENABLED / MAVEN_HTTPS_PROXY_ENABLED — активирует прокси.
      * MAVEN_HTTP_PROXY_HOST / MAVEN_HTTPS_PROXY_HOST — адрес прокси-сервера.
      * MAVEN_HTTP_PROXY_PORT / MAVEN_HTTPS_PROXY_PORT — порт прокси-сервера.
      * MAVEN_HTTP_DIRECT_HOSTS / MAVEN_HTTPS_DIRECT_HOSTS — адреса (через «|»),
        для которых проксирование зависимостей отключается.
    Если переменные не заданы, прокси не используется.
  -->
  <proxies>
    <proxy>
      <id>allowlisted-http</id>
      <active>${env.MAVEN_HTTP_PROXY_ENABLED}</active>
      <protocol>http</protocol>
      <host>${env.MAVEN_HTTP_PROXY_HOST}</host>
      <port>${env.MAVEN_HTTP_PROXY_PORT}</port>
      <nonProxyHosts>${env.MAVEN_HTTP_DIRECT_HOSTS}</nonProxyHosts>
    </proxy>
    <proxy>
      <id>allowlisted-https</id>
      <active>${env.MAVEN_HTTPS_PROXY_ENABLED}</active>
      <protocol>https</protocol>
      <host>${env.MAVEN_HTTPS_PROXY_HOST}</host>
      <port>${env.MAVEN_HTTPS_PROXY_PORT}</port>
      <nonProxyHosts>${env.MAVEN_HTTPS_DIRECT_HOSTS}</nonProxyHosts>
    </proxy>
  </proxies>
</settings>
