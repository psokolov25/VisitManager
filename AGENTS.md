# Repository Guidelines

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –º–æ–¥—É–ª–∏
- `src/main/java` ‚Äî –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ Java (`ru.aritmos.*`), —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ `ru.aritmos.Application`.
- `src/main/resources` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã (`application.yml`, `logback.xml`, `keycloak.json`).
- `src/test/java` ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã; `src/test/resources` ‚Äî —Ñ–∏–∫—Å—Ç—É—Ä—ã.
- `docs/` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/–¥–∏–∞–≥—Ä–∞–º–º—ã; `pom.xml` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Maven; –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: `Dockerfile`, `docker-compose*.yml`.
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏: `target/visitmanager.jar`.

## –°–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç—ã –∏ –∑–∞–ø—É—Å–∫
- –°–±–æ—Ä–∫–∞ —Å —Ç–µ—Å—Ç–∞–º–∏: `mvn -s .mvn/settings.xml clean verify`.
- –°–±–æ—Ä–∫–∞ –±–µ–∑ —Ç–µ—Å—Ç–æ–≤: `mvn -s .mvn/settings.xml -DskipTests package`.
- –ó–∞–ø—É—Å–∫ JAR: `java -jar target/visitmanager.jar`.
- –ó–∞–ø—É—Å–∫ –≤ dev (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –ø–ª–∞–≥–∏–Ω): `mvn -s .mvn/settings.xml mn:run`.
- –¢–µ—Å—Ç—ã: `mvn -s .mvn/settings.xml test`.
- –õ–æ–∫–∞–ª—å–Ω–æ –≤ Docker: `docker compose -f docker-compose.local.yml up -d --build`; –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ ‚Äî `docker compose -f docker-compose.local.yml down`.

## –°—Ç–∏–ª—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è
- Java 17; –æ—Ç—Å—Ç—É–ø 4 –ø—Ä–æ–±–µ–ª–∞; ~120 —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ; UTF‚Äë8.
- –ü–∞–∫–µ—Ç—ã ‚Äî –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (`ru.aritmos.*`); –∫–ª–∞—Å—Å—ã ‚Äî PascalCase; –º–µ—Ç–æ–¥—ã/–ø–æ–ª—è ‚Äî camelCase; –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã ‚Äî UPPER_SNAKE_CASE.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Lombok –¥–ª—è —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (`@Getter`, `@Setter`, `@Builder`).
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ Micronaut/JSR (`@Singleton`, `@NonNull`, `@Nullable`).
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ SLF4J/Logback; –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `System.out`.
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è JPG/PNG, –∞—Ä—Ö–∏–≤—ã –∏ —Ç.–ø.); –¥–∏–∞–≥—Ä–∞–º–º—ã —Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (PlantUML, ASCII).

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –§—Ä–µ–π–º–≤–æ—Ä–∫–∏: JUnit 5 + Micronaut Test + Mockito.
- –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ: `*Test` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `VisitServiceTest`), —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ –∫–∞–∫ –≤ `main`.
- –Æ–Ω–∏—Ç‚Äë—Ç–µ—Å—Ç—ã –±—ã—Å—Ç—Ä—ã–µ; Redis/Kafka ‚Äî –º–æ–∫–∞—Ç—å –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ.
- –ó–∞–ø—É—Å–∫: `mvn -s .mvn/settings.xml test`. –ü–æ—Ä–æ–≥ –ø–æ–∫—Ä—ã—Ç–∏—è –Ω–µ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω; —Ü–µ–ª–∏–º—Å—è –≤ ‚â•80% –¥–ª—è –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.

## –ö–æ–º–º–∏—Ç—ã –∏ Pull Request‚Äô—ã
- –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ Conventional Commits: `feat(scope): ‚Ä¶`, `fix: ‚Ä¶`, `refactor: ‚Ä¶`, `docs: ‚Ä¶`, `chore: ‚Ä¶`. –î–æ–ø—É—Å—Ç–∏–º—ã RU/EN; –∫—Ä–∞—Ç–∫–æ –∏ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –≤—Ä–µ–º–µ–Ω–∏.
- –í PR —É–∫–∞–∑—ã–≤–∞–π—Ç–µ: —á—Ç–æ –∏ –∑–∞—á–µ–º, —Å–≤—è–∑–∞–Ω–Ω—ã–π issue, –ø–ª–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ (curl/—Å—Ü–µ–Ω–∞—Ä–∏–π), –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏/–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏.
- CI —Å–æ–±–∏—Ä–∞–µ—Ç Docker‚Äë–æ–±—Ä–∞–∑—ã –∏–∑ `Dockerfile`; –Ω–µ –≤–Ω–æ—Å–∏—Ç–µ –ª–æ–º–∞—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ —è–≤–Ω–æ–π –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–π.

## –õ–∏—Ü–µ–Ω–∑–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ø—Ä–æ—Å—Ç–æ–π (–Ω–µ–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–π) –ª–∏—Ü–µ–Ω–∑–∏–∏.
  –û–ø–ª–∞—Ç–∞ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–≥–æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ –º–æ–¥–µ–ª–∏ ¬´Named User¬ª.
  –†–æ—è–ª—Ç–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ö–æ–¥—è –∏–∑ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º—ã –≤ –æ—Ç—á—ë—Ç–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ.
  –†–∞—Å—á—ë—Ç —Å–ª–µ–¥—É–µ—Ç –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –†–æ—Å—Å–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –º–æ–¥–µ–ª–µ–π –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ü–û.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README
- –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–µ–π–¥–∂–∏ (–≤–µ—Ä—Å–∏–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤, –ø–æ–∫—Ä—ã—Ç–∏–µ, —Å—Å—ã–ª–∫–∏ –Ω–∞ –ª–∏—Ü–µ–Ω–∑–∏—é –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é).
- –†–∞–∑–¥–µ–ª ¬´üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –≤—Å–µ –º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `mvn -s .mvn/settings.xml test` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –±–µ–π–¥–∂–∏ –∏ —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî `.env.local`; –¥–ª—è —Å—Ç–µ–Ω–¥–æ–≤ ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CI/CD.
- –ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `OIDC_ISSUER_URL`, `OAUTH_CLIENT_ID/SECRET`, `REDIS_SERVER`, `KAFKA_SERVER`, `LOKI_SERVER`.
- –ü—Ä–æ—Ñ–∏–ª—å Micronaut –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `dev` (—Å–º. `Application.Configurer`); –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Äî `MICRONAUT_ENVIRONMENTS`.
